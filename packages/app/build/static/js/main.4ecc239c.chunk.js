(this["webpackJsonp@react-bratus/app"]=this["webpackJsonp@react-bratus/app"]||[]).push([[0],{274:function(e,t,n){var a={"./da/messages.js":[513,3],"./en/messages.js":[514,4]};function o(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],o=t[0];return n.e(t[1]).then((function(){return n.t(o,7)}))}o.keys=function(){return Object.keys(a)},o.id=274,e.exports=o},512:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(19),c=n.n(i),r=n(172),s=n(258),l=n(42),d=(n(267),n(60)),u=n(136),b=n(519),h=n(524),p=n(88),j=n.n(p),g=n(246);function f(){return(f=Object(g.a)(j.a.mark((function e(t){var a,o;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(274)("./".concat(t,"/messages.js"));case 2:a=e.sent,o=a.messages,d.a.load(t,o),d.a.activate(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O="react-bratus:settings:locale",m=function(){var e,t=Object(a.useState)(null!==(e=localStorage.getItem(O))&&void 0!==e?e:(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).split("-")[0]),n=Object(l.a)(t,2),o=n[0],i=n[1];return{locale:o,updateLocale:function(e){localStorage.setItem(O,e),i(e)}}},x=Object(a.createContext)({highligtedId:null}),v=n(5),y=function(e){var t=e.children,n=Object(a.useState)(null),o=Object(l.a)(n,2),i=o[0],c=o[1];return Object(v.jsx)(x.Provider,{value:{highligtedId:i,setHighlightedId:c},children:t})},w=n(173),C=n(247),k=n.n(C);d.a.loadLocaleData("en",{plurals:w.b}),d.a.loadLocaleData("da",{plurals:w.a});var S=function(e){var t=e.children;return Object(u.b)().i18n.locale?Object(v.jsx)(v.Fragment,{children:t}):null};S.propTypes={children:k.a.any};var D,B,F,I,U,H,L,T,P,_,E,R,M,N,G=S,J=n(25),V=n(24),q={primary:"#00D8FF",secondary:"#001529"},z=Object(V.b)(D||(D=Object(J.a)(["\n\n"]))),A=function(e){var t=e.children;return Object(v.jsxs)(V.a,{theme:q,children:[Object(v.jsx)(z,{}),t]})},W=n(30),Y=12,K=172,Q=V.c.div(B||(B=Object(J.a)(["\n  height: ","px;\n  width: ","px;\n  padding: ","px;\n  border-radius: ","px;\n  border: 1px solid;\n  border-color: black;\n  background-color: white;\n"])),(function(e){return 44+e.linesOfCode}),K,Y,8),X=function(e){var t=e.data;return Object(v.jsxs)(Q,{linesOfCode:t.linesOfCode,children:[t.inDegree>0&&Object(v.jsx)(W.b,{type:"target",position:"left"}),Object(v.jsxs)("div",{children:[t.label,t.component.timesUsed>1&&"(".concat(t.component.timesUsed,")")]}),t.outDegree>0&&Object(v.jsx)(W.b,{type:"source",position:"right"})]})},Z=Object(V.c)(W.c)(F||(F=Object(J.a)(["\n  position: absolute;\n  right: ","px;\n  top: ","px;\n"])),Y,Y),$=function(e){var t=e.elements,n=Object(a.useContext)(x).setHighlightedId;return Object(v.jsx)(v.Fragment,{children:t&&Object(v.jsxs)(W.e,{elements:t,nodeTypes:{reactComponent:X},onMouseOver:function(e,t){console.log("event: ",e),console.log("node: ",t)},onMouseLeave:function(){n(null)},children:[Object(v.jsx)(Z,{}),Object(v.jsx)(W.a,{})]})})},ee=n(525),te=n(518),ne=n(522),ae=function(e,t){var n=Object(a.useState)((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),o=Object(l.a)(n,2),i=o[0],c=o[1];return Object(a.useEffect)((function(){console.log(i),window.localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,c]},oe=n(520),ie=n(521),ce=n(517),re=n(169),se=n.n(re),le=n(174),de=n.n(le),ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LR",n=new de.a.graphlib.Graph;n.setDefaultEdgeLabel((function(){return{}}));var a="LR"===t;n.setGraph({rankdir:t});var o=2;return e.forEach((function(e){Object(W.f)(e)?n.setNode(e.id,{width:K*o,height:44+e.data.linesOfCode}):n.setEdge(e.source,e.target)})),de.a.layout(n),e.map((function(e){if(Object(W.f)(e)){var t=n.node(e.id);e.targetPosition=a?"left":"top",e.sourcePosition=a?"right":"bottom",e.position={x:t.x-K*o/2+Math.random()/1e3,y:t.y-(36+e.data.linesOfCode)/2}}return e}))},be=V.c.div(I||(I=Object(J.a)(["\n  width: 600px;\n  height: 500px;\n"]))),he=oe.a.Title,pe=oe.a.Paragraph,je=oe.a.Link,ge=[{id:"node-1",type:"reactComponent",data:{label:"I am a component",component:{timesUsed:1},linesOfCode:1,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-2",type:"reactComponent",data:{label:"Solid connections denote components that are rendered by default",component:{timesUsed:1},linesOfCode:80,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-3",type:"reactComponent",data:{label:"My height is proportional to how many lines of code I have.",component:{timesUsed:1},linesOfCode:120,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-4",type:"reactComponent",data:{label:"Blue dashed connections denote a Route.",component:{timesUsed:1},linesOfCode:120,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-5",type:"reactComponent",data:{label:"This is how many times I have been used ->",component:{timesUsed:6},linesOfCode:40,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-6",type:"reactComponent",data:{label:"Black dashed connection denote a component rendered within an if-statement",component:{timesUsed:1},linesOfCode:240,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"edge-1",source:"node-1",target:"node-2"},{id:"edge-2",source:"node-3",target:"node-4",label:"/route_to_rendered_component",animated:!0,labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#001529",fillOpacity:.7},labelStyle:{fill:"#fff"},style:{stroke:"#00D8FF"}},{id:"edge-3",source:"node-5",target:"node-6",animated:!0}],fe=function(e){var t=e.isHelpVisible,n=e.hideHelpOnStartUp,o=e.setIsHelpVisible,i=e.setHideHelpOnStartUp,c=Object(W.g)().setCenter;return Object(a.useEffect)((function(){return c(350,350,.7)})),Object(v.jsxs)(ie.a,{width:720,onClose:function(){return o(!1)},visible:t,bodyStyle:{paddingBottom:80},children:[Object(v.jsx)(he,{level:3,children:"Thank you for installing react-bratus"}),Object(v.jsx)(pe,{children:"Hopefully this tool can help you navigate your React.js code base. Below this paragraph you can find the elements that are displayed and what they represent."}),Object(v.jsx)(pe,{children:"You can always click the Help button in navigation pane on the right to see this window again."}),Object(v.jsx)(se.a,{checked:n,onChange:function(e){return i(e.target.checked)},children:"Don't show me this again"}),Object(v.jsx)(ce.a,{}),Object(v.jsx)(he,{level:3,children:"Feedback"}),Object(v.jsxs)(pe,{children:["I hope that you have time to give me feedback. Any feature ideas, constructive criticism, or bugs are welcomed in the"," ",Object(v.jsx)(je,{href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=feedback&template=feedback.md&title=%5BFeedback%5D",children:"GitHub repository."})]}),Object(v.jsx)(ce.a,{}),Object(v.jsx)(he,{level:3,children:"Legend"}),Object(v.jsx)(be,{children:Object(v.jsx)(W.e,{elements:ue(ge),nodeTypes:{reactComponent:X},paneMoveable:!1,zoomOnScroll:!1})})]})},Oe=n(262),me=n(523),xe=V.c.div(U||(U=Object(J.a)(["\n  padding-top: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n"])),24,Y,24),ve=V.c.h2(H||(H=Object(J.a)(["\n  color: white;\n  font-weight: 400;\n  text-align: right;\n  margin-bottom: ","px;\n  padding-right: ","px;\n"])),Y,Y),ye=V.c.hr(L||(L=Object(J.a)(["\n  width: ","px;\n  color: blue;\n  margin: 0;\n  margin-left: auto;\n"])),230),we=function(e){var t=e.children;return Object(v.jsxs)(xe,{children:[Object(v.jsx)(ve,{children:t}),Object(v.jsx)(ye,{})]})},Ce=V.c.div(T||(T=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  height: auto;\n"]))),ke=function(e){var t=e.children,n=e.title;return Object(v.jsxs)(Ce,{children:[Object(v.jsx)(we,{children:n}),t]})},Se=oe.a.Paragraph,De=oe.a.Title,Be=Object(V.c)(De)(P||(P=Object(J.a)(["\n  color: #fff !important;\n  text-align: center;\n"]))),Fe=Object(V.c)(Se)(_||(_=Object(J.a)(["\n  color: #fff;\n  line-height: ","px;\n  font-size: ","px;\n  text-align: right;\n  padding-right: ","px;\n"])),24,14,Y),Ie=V.c.span(E||(E=Object(J.a)(["\n  color: ",";\n"])),(function(e){return e.theme.primary})),Ue=V.c.div(R||(R=Object(J.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  flex-wrap: wrap;\n  padding: ","px;\n  margin-left: auto;\n  width: 100%;\n\n  > * {\n    &:not(:last-child) {\n      margin-left: ","px;\n      margin-bottom: ","px;\n    }\n  }\n"])),Y,Y,Y),He=te.a.Sider,Le=function(e){var t=e.info;return Object(v.jsxs)(He,{width:250,style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:[Object(v.jsx)(Be,{level:1,children:"react-bratus"}),Object(v.jsxs)(me.a,{theme:"dark",mode:"inline",children:[t&&Object(v.jsxs)(ke,{title:"Info",children:[Object(v.jsxs)(Fe,{children:["your tree contains"," ",Object(v.jsxs)(Ie,{children:[t.uniqueComponents," "]}),"unique components"]}),Object(v.jsxs)(Fe,{children:["your components are on average reused",Object(v.jsxs)(Ie,{children:[" ",t.averageTimesUsed.toFixed(2)," "]}),"times"]}),Object(v.jsxs)(Fe,{children:["your average component consist of",Object(v.jsxs)(Ie,{children:[" ",t.averageLinesOfCode.toFixed(0)," "]}),"lines of code"]})]}),Object(v.jsx)(we,{children:"Actions"}),Object(v.jsxs)(Ue,{children:[Object(v.jsx)(ne.a,{onClick:function(){fetch("http://localhost:4444/compile",{method:"POST"}).then((function(){var e=Oe.b.loading("Recompiling. Window will refresh soon..",0);setTimeout((function(){return e}),2e3),setTimeout((function(){location.reload()}),4e3)})).catch((function(e){return console.log("An error occurred ",e)}))},ghost:!0,children:"Recompile"}),Object(v.jsx)(ne.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=feedback&template=feedback.md&title=%5BFeedback%5D",ghost:!0,children:"Give feedback"}),Object(v.jsx)(ne.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=bug&template=bug_report.md&title=%5BBUG%5D+",ghost:!0,children:"Submit bug"}),Object(v.jsx)(ne.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=enhancement&template=feature_request.md&title=%5BFeature%5D",ghost:!0,children:"Suggest new feature"})]})]})]})},Te=Object(V.c)(te.a)(M||(M=Object(J.a)(["\n  margin-left: ","px;\n  padding: 1rem;\n  height: 100vh;\n"])),250),Pe=Object(V.c)(ne.a)(N||(N=Object(J.a)(["\n  position: absolute;\n  bottom: ","px;\n  left: ","px;\n"])),24,24),_e=function(e){var t=e.children,n=e.info,o=ae(!1,"react-bratus:hide-help"),i=Object(l.a)(o,2),c=i[0],r=i[1],s=Object(a.useState)(!c),d=Object(l.a)(s,2),u=d[0],b=d[1];return Object(v.jsxs)(te.a,{children:[Object(v.jsx)(Le,{info:n}),Object(v.jsx)(Te,{children:t}),Object(v.jsx)(W.d,{children:Object(v.jsx)(fe,{isHelpVisible:u,setIsHelpVisible:b,hideHelpOnStartUp:c,setHideHelpOnStartUp:r})}),Object(v.jsx)(Pe,{type:"primary",shape:"round",size:"large",icon:Object(v.jsx)(ee.a,{}),onClick:function(){return b(!0)},children:"Open help"})]})},Ee=function(){var e=m().locale,t=Object(a.useState)(null),n=Object(l.a)(t,2),o=n[0],i=n[1],c=Object(a.useState)(null),p=Object(l.a)(c,2),j=p[0],g=p[1];return Object(a.useEffect)((function(){!function(e){f.apply(this,arguments)}(e),fetch("http://localhost:4444/parsedData").then((function(e){return e.json()})).then((function(e){g(e.info);var t=Object(s.a)(new Set(e.nodes.map((function(e){return e.data.label}))));console.log(t),i(ue([].concat(e.nodes,e.edges.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#001529",fillOpacity:.7},labelStyle:{fill:"#fff"},style:{stroke:e.label?"#00D8FF":"#000"}})})))))})).catch(console.log)}),[e]),Object(v.jsx)(u.a,{i18n:d.a,children:Object(v.jsx)(G,{children:Object(v.jsx)(A,{children:Object(v.jsx)(_e,{info:j,children:o?Object(v.jsx)(y,{children:Object(v.jsx)($,{elements:o})}):Object(v.jsx)(b.a,{spinning:!0,children:Object(v.jsx)(h.a,{message:"Nothing to show",description:"Could not find any components to display",type:"warning"})})})})})})},Re=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,526)).then((function(t){var n=t.getCLS,a=t.getFID,o=t.getFCP,i=t.getLCP,c=t.getTTFB;n(e),a(e),o(e),i(e),c(e)}))};c.a.render(Object(v.jsx)(o.a.StrictMode,{children:Object(v.jsx)(Ee,{})}),document.getElementById("root")),Re()}},[[512,1,2]]]);
//# sourceMappingURL=main.4ecc239c.chunk.js.map