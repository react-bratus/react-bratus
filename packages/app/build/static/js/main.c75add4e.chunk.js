(this["webpackJsonp@react-bratus/app"]=this["webpackJsonp@react-bratus/app"]||[]).push([[0],{275:function(e,t,n){var o={"./da/messages.js":[513,3],"./en/messages.js":[514,4]};function c(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],c=t[0];return n.e(t[1]).then((function(){return n.t(c,7)}))}c.keys=function(){return Object.keys(o)},c.id=275,e.exports=c},512:function(e,t,n){"use strict";n.r(t);var o=n(0),c=n.n(o),i=n(19),a=n.n(i),r=n(172),s=n(258),l=n(39),d=(n(267),n(60)),u=n(136),h=n(519),b=n(524),p=n(29),j=n(88),g=n.n(j),m=n(247);function f(){return(f=Object(m.a)(g.a.mark((function e(t){var o,c;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(275)("./".concat(t,"/messages.js"));case 2:o=e.sent,c=o.messages,d.a.load(t,c),d.a.activate(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O="react-bratus:settings:locale",x=function(){var e,t=Object(o.useState)(null!==(e=localStorage.getItem(O))&&void 0!==e?e:(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).split("-")[0]),n=Object(l.a)(t,2),c=n[0],i=n[1];return{locale:c,updateLocale:function(e){localStorage.setItem(O,e),i(e)}}},v=Object(o.createContext)({highlightedComponent:{componentName:null,locked:!1}}),y=n(5),k=function(e){var t=e.children,n=Object(o.useState)({componentName:null,locked:!1}),c=Object(l.a)(n,2),i=c[0],a=c[1];return Object(y.jsx)(v.Provider,{value:{highlightedComponent:i,setHighlightedComponent:a},children:t})},C=n(173),w=n(248),D=n.n(w);d.a.loadLocaleData("en",{plurals:C.b}),d.a.loadLocaleData("da",{plurals:C.a});var S=function(e){var t=e.children;return Object(u.b)().i18n.locale?Object(y.jsx)(y.Fragment,{children:t}):null};S.propTypes={children:D.a.any};var N,H,B,F,L,U,E,I,T,P,_,M,R,G,A=S,J=n(25),V=n(24),q={primary:"#00D8FF",secondary:"#001529"},z=Object(V.b)(N||(N=Object(J.a)(["\n"]))),$=function(e){var t=e.children;return Object(y.jsxs)(V.a,{theme:q,children:[Object(y.jsx)(z,{}),t]})},W=12,Y=172,K=V.c.div(H||(H=Object(J.a)(["\n  height: ","px;\n  width: ","px;\n  padding: ","px;\n  border-radius: ","px;\n  border: ",";\n  background-color: white;\n"])),(function(e){return 44+e.linesOfCode}),Y,W,8,(function(e){return e.isHighlighted?"3px dotted red":"1px solid black"})),Q=function(e){var t=e.id,n=e.data,c=Object(o.useContext)(v).highlightedComponent;return Object(y.jsxs)(K,{linesOfCode:n.linesOfCode,isHighlighted:!!c.componentName&&t.match("".concat(c.componentName,":+.+|").concat(c.componentName,"$")),children:[n.inDegree>0&&Object(y.jsx)(p.b,{type:"target",position:"left"}),Object(y.jsxs)("div",{children:[n.label,n.component.timesUsed>1&&"(".concat(n.component.timesUsed,")")]}),n.outDegree>0&&Object(y.jsx)(p.b,{type:"source",position:"right"})]})},X=Object(V.c)(p.c)(B||(B=Object(J.a)(["\n  position: absolute;\n  right: ","px;\n  top: ","px;\n"])),W,W),Z=function(e){var t=e.elements,n=Object(o.useContext)(v),c=n.highlightedComponent,i=n.setHighlightedComponent,a=Object(p.h)((function(e){return e.nodes})),r=Object(p.g)((function(e){return e.setSelectedElements})),s=function(e,t){var n=e?e.data.label:null;t?(i({componentName:n,locked:t}),r(a.filter((function(t){return t.id.includes(e.id)})))):c.locked||i({componentName:n,locked:c.locked})};return Object(y.jsx)(y.Fragment,{children:t&&Object(y.jsxs)(p.e,{elements:t,nodeTypes:{reactComponent:Q},onNodeMouseEnter:function(e,t){return s(t,!1)},onNodeMouseLeave:function(){c.locked||i({componentName:null,locked:!1})},onElementClick:function(e,t){return s(t,!0)},onPaneClick:function(){return i({componentName:null,locked:!1})},children:[Object(y.jsx)(X,{nodeColor:function(e){return c.componentName&&e.id.match("".concat(c.componentName,":+.+|").concat(c.componentName,"$"))?"red":"black"}}),Object(y.jsx)(p.a,{})]})})},ee=n(525),te=n(518),ne=n(522),oe=function(e,t){var n=Object(o.useState)((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),c=Object(l.a)(n,2),i=c[0],a=c[1];return Object(o.useEffect)((function(){console.log(i),window.localStorage.setItem(t,JSON.stringify(i))}),[t,i]),[i,a]},ce=n(520),ie=n(521),ae=n(517),re=n(169),se=n.n(re),le=n(174),de=n.n(le),ue=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LR",n=new de.a.graphlib.Graph;n.setDefaultEdgeLabel((function(){return{}}));var o="LR"===t;n.setGraph({rankdir:t});var c=2;return e.forEach((function(e){Object(p.f)(e)?n.setNode(e.id,{width:Y*c,height:44+e.data.linesOfCode}):n.setEdge(e.source,e.target)})),de.a.layout(n),e.map((function(e){if(Object(p.f)(e)){var t=n.node(e.id);e.targetPosition=o?"left":"top",e.sourcePosition=o?"right":"bottom",e.position={x:t.x-Y*c/2+Math.random()/1e3,y:t.y-(36+e.data.linesOfCode)/2}}return e}))},he=V.c.div(F||(F=Object(J.a)(["\n  width: 600px;\n  height: 700px;\n"]))),be=ce.a.Title,pe=ce.a.Paragraph,je=ce.a.Link,ge=[{id:"node-1",type:"reactComponent",data:{label:"I am a component",component:{timesUsed:1},linesOfCode:1,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-2",type:"reactComponent",data:{label:"Solid connections denote components that are rendered by default",component:{timesUsed:1},linesOfCode:80,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-3",type:"reactComponent",data:{label:"My height is proportional to how many lines of code I have.",component:{timesUsed:1},linesOfCode:120,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-4",type:"reactComponent",data:{label:"Blue dashed connections denote a Route.",component:{timesUsed:1},linesOfCode:120,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-5",type:"reactComponent",data:{label:"This is how many times I have been used ->",component:{timesUsed:6},linesOfCode:40,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-6",type:"reactComponent",data:{label:"Black dashed connection denote a component rendered within an if-statement",component:{timesUsed:1},linesOfCode:240,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-7",type:"reactComponent",data:{label:"Hover me to highlight",component:{timesUsed:1},linesOfCode:10,outDegree:0,inDegree:0},position:{x:0,y:0}},{id:"edge-1",source:"node-1",target:"node-2"},{id:"edge-2",source:"node-3",target:"node-4",label:"/route_to_rendered_component",animated:!0,labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#001529",fillOpacity:.7},labelStyle:{fill:"#fff"},style:{stroke:"#00D8FF"}},{id:"edge-3",source:"node-5",target:"node-6",animated:!0}],me=function(e){var t=e.isHelpVisible,n=e.hideHelpOnStartUp,c=e.setIsHelpVisible,i=e.setHideHelpOnStartUp,a=Object(p.i)().setCenter,r=Object(o.useState)(!0),s=Object(l.a)(r,1)[0],d=Object(o.useContext)(v),u=d.highlightedComponent,h=d.setHighlightedComponent,b=function(e,t){var n=e?e.data.label:null;t?h({componentName:n,locked:t}):u.locked||h({componentName:n,locked:u.locked})};return Object(o.useEffect)((function(){return a(350,350,.7)})),Object(y.jsxs)(ie.a,{width:720,onClose:function(){return c(!1)},visible:t,bodyStyle:{paddingBottom:80},children:[Object(y.jsx)(be,{level:3,children:"Thank you for installing react-bratus"}),Object(y.jsx)(pe,{children:"Hopefully this tool can help you navigate your React.js code base. Below this paragraph you can find the elements that are displayed and what they represent."}),Object(y.jsx)(pe,{children:"You can always click the Help button in navigation pane on the right to see this window again."}),Object(y.jsxs)(pe,{children:["I hope that you have time to give me feedback. Any feature ideas, constructive criticism, or bugs are welcomed in the"," ",Object(y.jsx)(je,{href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=feedback&template=feedback.md&title=%5BFeedback%5D",children:"GitHub repository."})]}),Object(y.jsx)(se.a,{checked:n,onChange:function(e){return i(e.target.checked)},children:"Don't show me this again"}),Object(y.jsx)(ae.a,{}),Object(y.jsx)(be,{children:"Changelog"}),Object(y.jsxs)(pe,{ellipsis:!!s&&{rows:2,expandable:!0,symbol:"more"},children:["- ",Object(y.jsx)("b",{children:"2.0.3"})," ",Object(y.jsx)("br",{}),"- Added posibility to set options in `.bratusrc.json` file",Object(y.jsx)("br",{}),"- Handle multiple components - Highlight components feature ",Object(y.jsx)("br",{}),"- Lock highlighted component and move component including descendants at the same time ",Object(y.jsx)("br",{}),"- CLI command -c --compile has been changed to -p --parse ",Object(y.jsx)("br",{}),"-"," ",Object(y.jsx)("b",{children:"2.0.2"})," ",Object(y.jsx)("br",{}),"- First release"]}),Object(y.jsx)(ae.a,{}),Object(y.jsx)(be,{level:3,children:"Legend"}),Object(y.jsx)(he,{children:Object(y.jsx)(p.e,{elements:ue(ge),nodeTypes:{reactComponent:Q},onNodeMouseEnter:function(e,t){return b(t,!1)},onNodeMouseLeave:function(){u.locked||h({componentName:null,locked:!1})},onElementClick:function(e,t){return b(t,!0)},onPaneClick:function(){return h({componentName:null,locked:!1})}})})]})},fe=n(262),Oe=n(523),xe=V.c.div(L||(L=Object(J.a)(["\n  padding-top: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n"])),24,W,24),ve=V.c.h2(U||(U=Object(J.a)(["\n  color: white;\n  font-weight: 400;\n  text-align: right;\n  margin-bottom: ","px;\n  padding-right: ","px;\n"])),W,W),ye=V.c.hr(E||(E=Object(J.a)(["\n  width: ","px;\n  color: blue;\n  margin: 0;\n  margin-left: auto;\n"])),230),ke=function(e){var t=e.children;return Object(y.jsxs)(xe,{children:[Object(y.jsx)(ve,{children:t}),Object(y.jsx)(ye,{})]})},Ce=V.c.div(I||(I=Object(J.a)(["\n  display: flex;\n  flex-direction: column;\n  height: auto;\n"]))),we=function(e){var t=e.children,n=e.title;return Object(y.jsxs)(Ce,{children:[Object(y.jsx)(ke,{children:n}),t]})},De=ce.a.Paragraph,Se=ce.a.Title,Ne=Object(V.c)(Se)(T||(T=Object(J.a)(["\n  color: #fff !important;\n  text-align: center;\n"]))),He=Object(V.c)(De)(P||(P=Object(J.a)(["\n  color: #fff;\n  line-height: ","px;\n  font-size: ","px;\n  text-align: right;\n  padding: 0 ","px;\n"])),24,14,W),Be=V.c.span(_||(_=Object(J.a)(["\n  color: ",";\n"])),(function(e){return e.theme.primary})),Fe=V.c.div(M||(M=Object(J.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  flex-wrap: wrap;\n  padding: ","px;\n  margin-left: auto;\n  width: 100%;\n\n  > * {\n    &:not(:last-child) {\n      margin-left: ","px;\n      margin-bottom: ","px;\n    }\n  }\n"])),W,W,W),Le=te.a.Sider,Ue=function(e){var t=e.info;return Object(y.jsxs)(Le,{width:250,style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:[Object(y.jsx)(Ne,{level:1,children:"react-bratus"}),Object(y.jsxs)(Oe.a,{theme:"dark",mode:"inline",children:[t&&Object(y.jsxs)(we,{title:"Info",children:[Object(y.jsxs)(He,{children:["your tree contains"," ",Object(y.jsxs)(Be,{children:[t.uniqueComponents," "]}),"unique components"]}),Object(y.jsxs)(He,{children:["your components are on average reused",Object(y.jsxs)(Be,{children:[" ",t.averageTimesUsed.toFixed(2)," "]}),"times"]}),Object(y.jsxs)(He,{children:["your average component consist of",Object(y.jsxs)(Be,{children:[" ",t.averageLinesOfCode.toFixed(0)," "]}),"lines of code"]})]}),Object(y.jsx)(we,{title:"Actions",children:Object(y.jsxs)(Fe,{children:[Object(y.jsx)(ne.a,{onClick:function(){fetch("http://localhost:4444/compile",{method:"POST"}).then((function(){var e=fe.b.loading("Recompiling. Window will refresh soon..",0);setTimeout((function(){return e}),2e3),setTimeout((function(){location.reload()}),4e3)})).catch((function(e){return console.log("An error occurred ",e)}))},ghost:!0,children:"Recompile"}),Object(y.jsx)(ne.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=feedback&template=feedback.md&title=%5BFeedback%5D",ghost:!0,children:"Give feedback"}),Object(y.jsx)(ne.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=bug&template=bug_report.md&title=%5BBUG%5D+",ghost:!0,children:"Submit bug"}),Object(y.jsx)(ne.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=enhancement&template=feature_request.md&title=%5BFeature%5D",ghost:!0,children:"Suggest new feature"})]})}),Object(y.jsxs)(we,{title:"Controls",children:[Object(y.jsx)(He,{children:"hover components with your mouse to highlight"}),Object(y.jsx)(He,{children:"click a component to lock the highlight"})]})]})]})},Ee=Object(V.c)(te.a)(R||(R=Object(J.a)(["\n  margin-left: ","px;\n  padding: 1rem;\n  height: 100vh;\n"])),250),Ie=Object(V.c)(ne.a)(G||(G=Object(J.a)(["\n  position: absolute;\n  bottom: ","px;\n  left: ","px;\n"])),24,24),Te=function(e){var t=e.children,n=e.info,c=oe(!1,"react-bratus:hide-help"),i=Object(l.a)(c,2),a=i[0],r=i[1],s=Object(o.useState)(!a),d=Object(l.a)(s,2),u=d[0],h=d[1];return Object(y.jsxs)(te.a,{children:[Object(y.jsx)(Ue,{info:n}),Object(y.jsx)(Ee,{children:t}),Object(y.jsx)(p.d,{children:Object(y.jsx)(me,{isHelpVisible:u,setIsHelpVisible:h,hideHelpOnStartUp:a,setHideHelpOnStartUp:r})}),Object(y.jsx)(Ie,{type:"primary",shape:"round",size:"large",icon:Object(y.jsx)(ee.a,{}),onClick:function(){return h(!0)},children:"Open help"})]})},Pe=function(){var e=x().locale,t=Object(o.useState)(null),n=Object(l.a)(t,2),c=n[0],i=n[1],a=Object(o.useState)(null),j=Object(l.a)(a,2),g=j[0],m=j[1];return Object(o.useEffect)((function(){!function(e){f.apply(this,arguments)}(e),fetch("http://localhost:4444/parsedData").then((function(e){return e.json()})).then((function(e){m(e.info);var t=Object(s.a)(new Set(e.nodes.map((function(e){return e.data.label}))));console.log(t),i(ue([].concat(e.nodes,e.edges.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#001529",fillOpacity:.7},labelStyle:{fill:"#fff"},style:{stroke:e.label?"#00D8FF":"#000"}})})))))})).catch(console.log)}),[e]),Object(y.jsx)(u.a,{i18n:d.a,children:Object(y.jsx)(A,{children:Object(y.jsx)($,{children:Object(y.jsx)(k,{children:Object(y.jsx)(Te,{info:g,children:c?Object(y.jsx)(p.d,{children:Object(y.jsx)(Z,{elements:c})}):Object(y.jsx)(h.a,{spinning:!0,children:Object(y.jsx)(b.a,{message:"Nothing to show",description:"Could not find any components to display",type:"warning"})})})})})})})},_e=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,526)).then((function(t){var n=t.getCLS,o=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),o(e),c(e),i(e),a(e)}))};a.a.render(Object(y.jsx)(c.a.StrictMode,{children:Object(y.jsx)(Pe,{})}),document.getElementById("root")),_e()}},[[512,1,2]]]);
//# sourceMappingURL=main.c75add4e.chunk.js.map