(this["webpackJsonp@react-bratus/app"]=this["webpackJsonp@react-bratus/app"]||[]).push([[0],{336:function(e,t,n){var o={"./da/messages.js":[844,3],"./en/messages.js":[845,4]};function i(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(o)},i.id=336,e.exports=i},843:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),c=n(22),a=n.n(c),r=n(86),s=n(36),l=(n(329),n(72)),d=n(164),u=n(852),b=n(860),h=n(102),j=n.n(h),p=n(308);function f(){return(f=Object(p.a)(j.a.mark((function e(t){var o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(336)("./".concat(t,"/messages.js"));case 2:o=e.sent,i=o.messages,l.a.load(t,i),l.a.activate(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g="react-bratus:settings:locale",O=function(){var e,t=Object(o.useState)(null!==(e=localStorage.getItem(g))&&void 0!==e?e:(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).split("-")[0]),n=Object(s.a)(t,2),i=n[0],c=n[1];return{locale:i,updateLocale:function(e){localStorage.setItem(g,e),c(e)}}},m=Object(o.createContext)({highlightedComponents:[]}),x=n(6),v=function(e){var t=e.children,n=Object(o.useState)([]),i=Object(s.a)(n,2),c=i[0],a=i[1];return Object(x.jsx)(m.Provider,{value:{highlightedComponents:c,setHighlightedComponents:a},children:t})},y=n(212),C=n(309),w=n.n(C);l.a.loadLocaleData("en",{plurals:y.b}),l.a.loadLocaleData("da",{plurals:y.a});var k=function(e){var t=e.children;return Object(d.b)().i18n.locale?Object(x.jsx)(x.Fragment,{children:t}):null};k.propTypes={children:w.a.any};var S,D,N,H,I,B,F,L,_,E,U,P,T,M,R,z=k,A=n(28),G=n(25),J={primary:"#00D8FF",secondary:"#001529"},V=Object(G.b)(S||(S=Object(A.a)(["\n.ant-select-tree .ant-select-tree-treenode:not(.ant-select-tree .ant-select-tree-treenode-disabled).filter-node .ant-select-tree-title {\n  background-color: yellow;\n}\n"]))),$=function(e){var t=e.children;return Object(x.jsxs)(G.a,{theme:J,children:[Object(x.jsx)(V,{}),t]})},q=n(71),W=n(147),Y=n.n(W),K=n(30),Q=n(863),X=n(864),Z=n(865),ee=n(862),te=n(861),ne=n(858),oe=n(159),ie=n.n(oe),ce=n(123),ae=n.n(ce),re=12,se=180,le=G.c.div(D||(D=Object(A.a)(["\n  height: ","px;\n  width: ","px;\n  padding: ","px;\n  border-radius: ","px;\n  border: ",";\n  background-color: ",";\n  color: ",";\n"])),(function(e){return 100+e.linesOfCode}),se,re,8,(function(e){var t=e.isHighlighted,n=e.locked;return t?n?"3px solid black":"3px dotted red":"1px solid black"}),(function(e){return e.bgColor}),(function(e){return e.fontColor})),de=Object(G.c)(te.a)(N||(N=Object(A.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),ue=function(e){var t=e.id,n=e.data,i=Object(o.useContext)(m),c=i.highlightedComponents,a=i.setHighlightedComponents,r=Object(K.h)((function(e){return e.nodes})),s=Object(K.g)((function(e){return e.setSelectedElements})),l=function(){var e=c.findIndex((function(e){return e.id===t})),o=Object(q.a)(c);-1!==e&&c[e].locked?(o.splice(e,1),a(o)):-1!==e&&(o.splice(e,1),a([].concat(Object(q.a)(o),[{id:t,componentName:n.label,locked:!0,search:!1}])),s(r.filter((function(e){return e.id.includes(t)}))))},d=function(){return c.some((function(e){return t.match("".concat(e.componentName,":+.+|").concat(e.componentName,"$"))}))},u=function(){return c.some((function(e){return e.locked&&t.match("".concat(e.componentName,":+.+|").concat(e.componentName,"$"))}))},b=function(){return u()?"#FF6666\t":new Y.a({lightness:.8,hue:{min:0,max:366}}).hex(n.label)},h=function(){var e=b(),t="#"===e.charAt(0)?e.substring(1,7):e;return.299*parseInt(t.substring(0,2),16)+.587*parseInt(t.substring(2,4),16)+.114*parseInt(t.substring(4,6),16)>186?"#000":"#fff"};return Object(x.jsxs)(le,{linesOfCode:n.linesOfCode,isHighlighted:d(),isLocked:u(),bgColor:b,fontColor:h(),children:[n.inDegree>0&&Object(x.jsx)(K.b,{type:"target",position:"left"}),Object(x.jsxs)(de,{children:[Object(x.jsx)(ne.a,{children:Object(x.jsx)(ae.a,{style:{color:h()},level:5,children:n.label})}),Object(x.jsx)(ne.a,{style:{flexGrow:1,paddingTop:"12px"},justify:"center",children:n.component.timesUsed>1&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Q.a,{style:{fontSize:"24px",color:h()}}),Object(x.jsxs)(ie.a,{style:{fontSize:"24px",lineHeight:"24px",color:h()},children:["used: ",n.component.timesUsed]})]})}),d()&&Object(x.jsxs)(ne.a,{align:"middle",justify:"space-between",children:[u()?Object(x.jsx)(X.a,{onClick:l,style:{fontSize:"24px",cursor:"pointer"}}):Object(x.jsx)(Z.a,{onClick:l,style:{fontSize:"24px",cursor:"pointer"}}),Object(x.jsx)(ee.a,{onClick:function(){return n.onShowNodeDetail({id:t,data:n})},style:{fontSize:"24px",cursor:"pointer"}})]})]}),n.outDegree>0&&Object(x.jsx)(K.b,{type:"source",position:"right"})]})},be=Object(G.c)(K.c)(H||(H=Object(A.a)(["\n  position: absolute;\n  right: ","px;\n  top: ","px;\n"])),re,re),he=function(e){var t=e.elements,n=Object(o.useContext)(m),i=n.highlightedComponents,c=n.setHighlightedComponents;return Object(x.jsx)(x.Fragment,{children:t&&Object(x.jsxs)(K.e,{elements:t,nodeTypes:{reactComponent:ue},onNodeMouseEnter:function(e,t){return function(e){var t=e?e.data.label:null;c([].concat(Object(q.a)(i),[{id:e.id,componentName:t,locked:!1,search:!1}]))}(t)},onNodeMouseLeave:function(e,t){return function(e,t){var n=i.findIndex((function(t){return t.id===e.id}));if(-1!==n&&(!i[n].locked||t)){var o=Object(q.a)(i);o.splice(n,1),c(o)}}(t,!1)},onPaneClick:function(){return c([])},children:[Object(x.jsx)(be,{nodeColor:function(e){return function(e){return i.some((function(t){return e.id.match("".concat(t.componentName,":+.+|").concat(t.componentName,"$"))}))}(e)?"red":new Y.a({lightness:.5}).hex(e.data.label)}}),Object(x.jsx)(K.a,{})]})})},je=n(866),pe=n(850),fe=n(856),ge=n(855),Oe=function(e,t){var n=Object(o.useState)((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),i=Object(s.a)(n,2),c=i[0],a=i[1];return Object(o.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(c))}),[t,c]),[c,a]},me=n(854),xe=n(849),ve=n(207),ye=n.n(ve),Ce=n(213),we=n.n(Ce),ke=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LR",n=new we.a.graphlib.Graph;n.setDefaultEdgeLabel((function(){return{}}));var o="LR"===t;n.setGraph({rankdir:t});var i=2;return e.forEach((function(e){Object(K.f)(e)?n.setNode(e.id,{width:se*i,height:100+e.data.linesOfCode}):n.setEdge(e.source,e.target)})),we.a.layout(n),e.map((function(e){if(Object(K.f)(e)){var t=n.node(e.id);e.targetPosition=o?"left":"top",e.sourcePosition=o?"right":"bottom",e.position={x:t.x-se*i/2+Math.random()/1e3,y:t.y-(36+e.data.linesOfCode)/2}}return e}))},Se=G.c.div(I||(I=Object(A.a)(["\n  width: 600px;\n  height: 700px;\n"]))),De=me.a.Title,Ne=me.a.Paragraph,He=me.a.Link,Ie=[{id:"node-1",type:"reactComponent",data:{label:"I am a component",component:{timesUsed:1},linesOfCode:1,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-2",type:"reactComponent",data:{label:"Solid connections denote components that are rendered by default",component:{timesUsed:1},linesOfCode:80,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-3",type:"reactComponent",data:{label:"My height is proportional to how many lines of code I have.",component:{timesUsed:1},linesOfCode:120,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-4",type:"reactComponent",data:{label:"Blue dashed connections denote a Route.",component:{timesUsed:1},linesOfCode:120,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-5",type:"reactComponent",data:{label:"This is how many times I have been used ->",component:{timesUsed:6},linesOfCode:40,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-6",type:"reactComponent",data:{label:"Black dashed connection denote a component rendered within an if-statement",component:{timesUsed:1},linesOfCode:240,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"Hover me to highlight",type:"reactComponent",data:{label:"Hover me to highlight",component:{timesUsed:1},linesOfCode:50,outDegree:0,inDegree:0},position:{x:0,y:0}},{id:"edge-1",source:"node-1",target:"node-2"},{id:"edge-2",source:"node-3",target:"node-4",label:"/route_to_rendered_component",animated:!0,labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#001529",fillOpacity:.7},labelStyle:{fill:"#fff"},style:{stroke:"#00D8FF"}},{id:"edge-3",source:"node-5",target:"node-6",animated:!0}],Be=function(e){var t=e.isHelpVisible,n=e.hideHelpOnStartUp,i=e.setIsHelpVisible,c=e.setHideHelpOnStartUp,a=Object(K.i)().setCenter,r=Object(o.useState)(!0),l=Object(s.a)(r,1)[0],d=Object(o.useContext)(m),u=d.highlightedComponent,b=d.setHighlightedComponent,h=function(e,t){var n=e?e.data.label:null;t?b({componentName:n,locked:t}):u.locked||b({componentName:n,locked:u.locked})};return Object(o.useEffect)((function(){return a(350,350,.7)})),Object(x.jsxs)(ge.a,{width:720,onClose:function(){return i(!1)},visible:t,bodyStyle:{paddingBottom:80},children:[Object(x.jsx)(De,{level:3,children:"Thank you for installing react-bratus"}),Object(x.jsx)(Ne,{children:"Hopefully this tool can help you navigate your React.js code base. Below this paragraph you can find the elements that are displayed and what they represent."}),Object(x.jsx)(Ne,{children:"You can always click the Help button in navigation pane on the right to see this window again."}),Object(x.jsxs)(Ne,{children:["I hope that you have time to give me feedback. Any feature ideas, constructive criticism, or bugs are welcomed in the"," ",Object(x.jsx)(He,{href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=feedback&template=feedback.md&title=%5BFeedback%5D",children:"GitHub repository."})]}),Object(x.jsx)(ye.a,{checked:n,onChange:function(e){return c(e.target.checked)},children:"Don't show me this again"}),Object(x.jsx)(xe.a,{}),Object(x.jsx)(De,{children:"Changelog"}),Object(x.jsxs)(Ne,{ellipsis:!!l&&{rows:2,expandable:!0,symbol:"more"},children:["- ",Object(x.jsx)("b",{children:"2.0.3"})," ",Object(x.jsx)("br",{}),"- Added posibility to set options in `.bratusrc.json` file",Object(x.jsx)("br",{}),"- Handle multiple components - Highlight components feature ",Object(x.jsx)("br",{}),"- Lock highlighted component and move component including descendants at the same time ",Object(x.jsx)("br",{}),"- CLI command -c --compile has been changed to -p --parse ",Object(x.jsx)("br",{}),"-"," ","Removed Info section ",Object(x.jsx)("br",{}),Object(x.jsx)("b",{children:"2.0.2"})," ",Object(x.jsx)("br",{}),"- First release"]}),Object(x.jsx)(xe.a,{}),Object(x.jsx)(De,{level:3,children:"Legend"}),Object(x.jsx)(Se,{children:Object(x.jsx)(K.e,{elements:ke(Ie),nodeTypes:{reactComponent:ue},onNodeMouseEnter:function(e,t){return h(t,!1)},onNodeMouseLeave:function(){u.locked||b({componentName:null,locked:!1})},onElementClick:function(e,t){return h(t,!0)},onPaneClick:function(){return b({componentName:null,locked:!1})}})})]})},Fe=n(323),Le=n(859),_e=n(853),Ee=G.c.div(B||(B=Object(A.a)(["\n  padding-top: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n"])),24,re,24),Ue=G.c.h2(F||(F=Object(A.a)(["\n  color: white;\n  font-weight: 400;\n  text-align: right;\n  margin-bottom: ","px;\n  padding-right: ","px;\n"])),re,re),Pe=G.c.hr(L||(L=Object(A.a)(["\n  width: ","px;\n  color: blue;\n  margin: 0;\n  margin-left: auto;\n"])),280),Te=function(e){var t=e.children;return Object(x.jsxs)(Ee,{children:[Object(x.jsx)(Ue,{children:t}),Object(x.jsx)(Pe,{})]})},Me=G.c.div(_||(_=Object(A.a)(["\n  display: flex;\n  flex-direction: column;\n  height: auto;\n"]))),Re=function(e){var t=e.children,n=e.title;return Object(x.jsxs)(Me,{children:[Object(x.jsx)(Te,{children:n}),t]})},ze=me.a.Paragraph,Ae=me.a.Title,Ge=Object(G.c)(Ae)(E||(E=Object(A.a)(["\n  color: #fff !important;\n  text-align: center;\n"]))),Je=Object(G.c)(ze)(U||(U=Object(A.a)(["\n  color: #fff;\n  line-height: ","px;\n  font-size: ","px;\n  text-align: right;\n  padding: 0 ","px;\n"])),24,14,re),Ve=G.c.div(P||(P=Object(A.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  flex-wrap: wrap;\n  padding: ","px;\n  margin-left: auto;\n  width: 100%;\n\n  > * {\n    &:not(:last-child) {\n      margin-left: ","px;\n      margin-bottom: ","px;\n    }\n  }\n"])),re,re,re),$e=pe.a.Sider,qe=function(){var e=Object(o.useState)(),t=Object(s.a)(e,2),n=t[0],i=t[1],c=Object(o.useState)([]),a=Object(s.a)(c,2),r=a[0],l=a[1],d=Object(o.useContext)(m),u=d.highlightedComponents,b=d.setHighlightedComponents,h=Object(K.h)((function(e){return e.nodes})),j=Object(K.i)().setCenter;Object(o.useEffect)((function(){g()}),[h]);var p=function(e){var t=e.split(":");return 1==t.length?null:(t.pop(),t.join(":"))},f=function(e){return 0==e.data.outDegree},g=function(){h.length>0&&l(h.map((function(e){return{id:e.id,pId:p(e.id),title:e.data.label,value:e.id,isLeaf:f(e)}})))};return Object(x.jsxs)($e,{width:300,style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:[Object(x.jsx)(Ge,{level:1,children:"react-bratus"}),Object(x.jsxs)(Le.a,{theme:"dark",mode:"inline",children:[Object(x.jsx)(Re,{title:"Search",children:Object(x.jsx)(_e.a,{showSearch:!0,style:{width:"100%",padding:"0 ".concat(re,"px")},value:n,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Search components",onChange:function(e){i(e);var t=e.split(":"),n=t[t.length-1],o=u.findIndex((function(t){return t.id===e}));Object(q.a)(u).splice(o,1),b([{id:e,componentName:n,locked:!0,search:!1}]),function(e){var t=h.findIndex((function(t){return t.id==e})),n=h[t],o=n.__rf.position.x+n.__rf.width/2,i=n.__rf.position.y+n.__rf.height/2;j(o,i,1)}(e)},treeDataSimpleMode:!0,treeDefaultExpandAll:!1,treeData:r})}),Object(x.jsx)(Re,{title:"Actions",children:Object(x.jsxs)(Ve,{children:[Object(x.jsx)(fe.a,{onClick:function(){fetch("http://localhost:4444/compile",{method:"POST"}).then((function(){var e=Fe.b.loading("Recompiling. Window will refresh soon..",0);setTimeout((function(){return e}),2e3),setTimeout((function(){location.reload()}),4e3)})).catch((function(e){return console.log("An error occurred ",e)}))},ghost:!0,children:"Recompile"}),Object(x.jsx)(fe.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=feedback&template=feedback.md&title=%5BFeedback%5D",ghost:!0,children:"Give feedback"}),Object(x.jsx)(fe.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=bug&template=bug_report.md&title=%5BBUG%5D+",ghost:!0,children:"Submit bug"}),Object(x.jsx)(fe.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=enhancement&template=feature_request.md&title=%5BFeature%5D",ghost:!0,children:"Suggest new feature"})]})}),Object(x.jsxs)(Re,{title:"Controls",children:[Object(x.jsx)(Je,{children:"hover components with your mouse to highlight"}),Object(x.jsx)(Je,{children:"click a component to lock the highlight"})]})]})]})},We=n(63),Ye=n(857),Ke=n(851),Qe=Object(G.c)(ne.a)(T||(T=Object(A.a)(["\n  pre {\n    width: 100%;\n  }\n"]))),Xe=function(e){var t=e.nodeDetail;return Object(o.useEffect)((function(){return console.log(t)}),[]),t.visible?Object(x.jsx)(te.a,{children:Object(x.jsxs)(Qe,{children:[Object(x.jsxs)(te.a,{children:[Object(x.jsx)(ae.a,{level:5,children:"Path"}),Object(x.jsx)(ie.a,{copyable:!0,children:t.node.data.path})]}),Object(x.jsx)(xe.a,{}),Object(x.jsx)(ae.a,{level:5,children:"Code"}),Object(x.jsx)(Ye.a,{style:Ke.a,language:"javascript",children:t.node.data.code})]})}):Object(x.jsx)(We.a,{spin:!0})},Ze=Object(G.c)(pe.a)(M||(M=Object(A.a)(["\n  margin-left: ","px;\n  padding: 1rem;\n  height: 100vh;\n"])),300),et=Object(G.c)(fe.a)(R||(R=Object(A.a)(["\n  position: absolute;\n  bottom: ","px;\n  left: ","px;\n"])),24,24),tt=function(e){var t=e.children,n=e.info,i=e.nodeDetail,c=e.setNodeDetail,a=Oe(!1,"react-bratus:hide-help"),r=Object(s.a)(a,2),l=r[0],d=r[1],u=Object(o.useState)(!l),b=Object(s.a)(u,2),h=b[0],j=b[1];return Object(x.jsxs)(pe.a,{children:[Object(x.jsxs)(K.d,{children:[Object(x.jsx)(qe,{info:n}),Object(x.jsx)(Ze,{children:t}),Object(x.jsx)(ge.a,{width:800,visible:i.visible,closable:!0,onClose:function(){return c({visible:!1,node:null})},title:i.node?i.node.data.label:"",children:Object(x.jsx)(Xe,{nodeDetail:i})})]}),Object(x.jsx)(K.d,{children:Object(x.jsx)(Be,{isHelpVisible:h,setIsHelpVisible:j,hideHelpOnStartUp:l,setHideHelpOnStartUp:d})}),Object(x.jsx)(et,{type:"primary",shape:"round",size:"large",icon:Object(x.jsx)(je.a,{}),onClick:function(){return j(!0)},children:"Open help"})]})},nt=function(){var e=O().locale,t=Object(o.useState)(null),n=Object(s.a)(t,2),i=n[0],c=n[1],a=Object(o.useState)({visible:!1,node:null}),h=Object(s.a)(a,2),j=h[0],p=h[1],g=Object(o.useState)(null),m=Object(s.a)(g,2),y=m[0],C=m[1];return Object(o.useEffect)((function(){!function(e){f.apply(this,arguments)}(e),fetch("http://localhost:4444/parsedData").then((function(e){return e.json()})).then((function(e){C(e.info),c(ke([].concat(e.nodes.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{data:Object(r.a)(Object(r.a)({},e.data),{},{onShowNodeDetail:function(e){return p({visible:!0,node:e})}})})})),e.edges.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#001529",fillOpacity:.7},labelStyle:{fill:"#fff"},style:{stroke:e.label?"red":"#000"}})})))))})).catch(console.log)}),[e]),Object(x.jsx)(d.a,{i18n:l.a,children:Object(x.jsx)(z,{children:Object(x.jsx)($,{children:Object(x.jsx)(v,{children:Object(x.jsx)(tt,{info:y,nodeDetail:j,setNodeDetail:p,children:i?Object(x.jsx)(he,{elements:i}):Object(x.jsx)(u.a,{spinning:!0,children:Object(x.jsx)(b.a,{message:"Nothing to show",description:"Could not find any components to display",type:"warning"})})})})})})})},ot=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,867)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),i(e),c(e),a(e)}))};a.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(nt,{})}),document.getElementById("root")),ot()}},[[843,1,2]]]);
//# sourceMappingURL=main.d8ceeebb.chunk.js.map