(this["webpackJsonp@react-bratus/app"]=this["webpackJsonp@react-bratus/app"]||[]).push([[0],{335:function(e,t,n){var o={"./da/messages.js":[843,3],"./en/messages.js":[844,4]};function i(e){if(!n.o(o,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=o[e],i=t[0];return n.e(t[1]).then((function(){return n.t(i,7)}))}i.keys=function(){return Object.keys(o)},i.id=335,e.exports=i},842:function(e,t,n){"use strict";n.r(t);var o=n(0),i=n.n(o),c=n(22),a=n.n(c),r=n(86),s=n(36),l=(n(328),n(72)),d=n(161),u=n(851),h=n(859),b=n(102),j=n.n(b),p=n(305);function f(){return(f=Object(p.a)(j.a.mark((function e(t){var o,i;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n(335)("./".concat(t,"/messages.js"));case 2:o=e.sent,i=o.messages,l.a.load(t,i),l.a.activate(t);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var g="react-bratus:settings:locale",O=function(){var e,t=Object(o.useState)(null!==(e=localStorage.getItem(g))&&void 0!==e?e:(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage).split("-")[0]),n=Object(s.a)(t,2),i=n[0],c=n[1];return{locale:i,updateLocale:function(e){localStorage.setItem(g,e),c(e)}}},m=Object(o.createContext)({highlightedComponents:[]}),x=n(6),v=function(e){var t=e.children,n=Object(o.useState)([]),i=Object(s.a)(n,2),c=i[0],a=i[1];return Object(x.jsx)(m.Provider,{value:{highlightedComponents:c,setHighlightedComponents:a},children:t})},y=n(209),C=n(306),k=n.n(C);l.a.loadLocaleData("en",{plurals:y.b}),l.a.loadLocaleData("da",{plurals:y.a});var w=function(e){var t=e.children;return Object(d.b)().i18n.locale?Object(x.jsx)(x.Fragment,{children:t}):null};w.propTypes={children:k.a.any};var S,D,N,H,B,I,F,L,_,U,E,T,P,M,R,z=w,G=n(29),A=n(27),J={primary:"#00D8FF",secondary:"#001529"},V=Object(A.b)(S||(S=Object(G.a)(["\n.ant-select-tree .ant-select-tree-treenode:not(.ant-select-tree .ant-select-tree-treenode-disabled).filter-node .ant-select-tree-title {\n  background-color: yellow;\n}\n"]))),q=function(e){var t=e.children;return Object(x.jsxs)(A.a,{theme:J,children:[Object(x.jsx)(V,{}),t]})},$=n(71),W=n(30),Y=n(862),K=n(863),Q=n(864),X=n(861),Z=n(860),ee=n(857),te=n(313),ne=n.n(te),oe=n(310),ie=n.n(oe),ce=12,ae=180,re=A.c.div(D||(D=Object(G.a)(["\n  height: ","px;\n  width: ","px;\n  padding: ","px;\n  border-radius: ","px;\n  border: ",";\n  background-color: ",";\n"])),(function(e){return 100+e.linesOfCode}),ae,ce,8,(function(e){var t=e.isHighlighted,n=e.locked;return t?n?"3px solid black":"2px dotted red":"1px solid black"}),(function(e){return e.locked?"grey":"white"})),se=Object(A.c)(Z.a)(N||(N=Object(G.a)(["\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n"]))),le=function(e){var t=e.id,n=e.data,i=Object(o.useContext)(m),c=i.highlightedComponents,a=i.setHighlightedComponents,r=Object(W.h)((function(e){return e.nodes})),s=Object(W.g)((function(e){return e.setSelectedElements})),l=function(){var e=c.findIndex((function(e){return e.id===t})),o=Object($.a)(c);-1!==e&&c[e].locked?(o.splice(e,1),a(o)):-1!==e&&(o.splice(e,1),a([].concat(Object($.a)(o),[{id:t,componentName:n.label,locked:!0,search:!1}])),s(r.filter((function(e){return e.id.includes(t)}))))},d=function(){return c.some((function(e){return t.match("".concat(e.componentName,":+.+|").concat(e.componentName,"$"))}))},u=function(){return c.some((function(e){return e.locked&&t.match("".concat(e.componentName,":+.+|").concat(e.componentName,"$"))}))};return Object(x.jsxs)(re,{linesOfCode:n.linesOfCode,isHighlighted:d(),locked:u(),children:[n.inDegree>0&&Object(x.jsx)(W.b,{type:"target",position:"left"}),Object(x.jsxs)(se,{children:[Object(x.jsx)(ee.a,{children:Object(x.jsx)(ie.a,{level:5,children:n.label})}),Object(x.jsx)(ee.a,{style:{flexGrow:1,paddingTop:"12px"},justify:"center",children:n.component.timesUsed>1&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(Y.a,{style:{fontSize:"24px",color:"lightgrey"}}),Object(x.jsx)(ne.a,{style:{fontSize:"24px",lineHeight:"24px",color:"lightgrey"},children:n.component.timesUsed})]})}),d()&&Object(x.jsxs)(ee.a,{align:"middle",justify:"space-between",children:[u()?Object(x.jsx)(K.a,{onClick:l,style:{fontSize:"24px",cursor:"pointer"}}):Object(x.jsx)(Q.a,{onClick:l,style:{fontSize:"24px",cursor:"pointer"}}),Object(x.jsx)(X.a,{onClick:function(){return n.onShowNodeDetail({id:t,data:n})},style:{fontSize:"24px",cursor:"pointer"}})]})]}),n.outDegree>0&&Object(x.jsx)(W.b,{type:"source",position:"right"})]})},de=Object(A.c)(W.c)(H||(H=Object(G.a)(["\n  position: absolute;\n  right: ","px;\n  top: ","px;\n"])),ce,ce),ue=function(e){var t=e.elements,n=Object(o.useContext)(m),i=n.highlightedComponents,c=n.setHighlightedComponents;return Object(x.jsx)(x.Fragment,{children:t&&Object(x.jsxs)(W.e,{elements:t,nodeTypes:{reactComponent:le},onNodeMouseEnter:function(e,t){return function(e){var t=e?e.data.label:null;c([].concat(Object($.a)(i),[{id:e.id,componentName:t,locked:!1,search:!1}]))}(t)},onNodeMouseLeave:function(e,t){return function(e,t){var n=i.findIndex((function(t){return t.id===e.id}));if(-1!==n&&(!i[n].locked||t)){var o=Object($.a)(i);o.splice(n,1),c(o)}}(t,!1)},onPaneClick:function(){return c([])},children:[Object(x.jsx)(de,{nodeColor:function(e){return function(e){return i.some((function(t){return e.id.match("".concat(t.componentName,":+.+|").concat(t.componentName,"$"))}))}(e)?"red":"black"}}),Object(x.jsx)(W.a,{})]})})},he=n(865),be=n(849),je=n(855),pe=n(854),fe=function(e,t){var n=Object(o.useState)((function(){var n=window.localStorage.getItem(t);return null!==n?JSON.parse(n):e})),i=Object(s.a)(n,2),c=i[0],a=i[1];return Object(o.useEffect)((function(){window.localStorage.setItem(t,JSON.stringify(c))}),[t,c]),[c,a]},ge=n(853),Oe=n(848),me=n(204),xe=n.n(me),ve=n(210),ye=n.n(ve),Ce=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"LR",n=new ye.a.graphlib.Graph;n.setDefaultEdgeLabel((function(){return{}}));var o="LR"===t;n.setGraph({rankdir:t});var i=2;return e.forEach((function(e){Object(W.f)(e)?n.setNode(e.id,{width:ae*i,height:100+e.data.linesOfCode}):n.setEdge(e.source,e.target)})),ye.a.layout(n),e.map((function(e){if(Object(W.f)(e)){var t=n.node(e.id);e.targetPosition=o?"left":"top",e.sourcePosition=o?"right":"bottom",e.position={x:t.x-ae*i/2+Math.random()/1e3,y:t.y-(36+e.data.linesOfCode)/2}}return e}))},ke=A.c.div(B||(B=Object(G.a)(["\n  width: 600px;\n  height: 700px;\n"]))),we=ge.a.Title,Se=ge.a.Paragraph,De=ge.a.Link,Ne=[{id:"node-1",type:"reactComponent",data:{label:"I am a component",component:{timesUsed:1},linesOfCode:1,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-2",type:"reactComponent",data:{label:"Solid connections denote components that are rendered by default",component:{timesUsed:1},linesOfCode:80,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-3",type:"reactComponent",data:{label:"My height is proportional to how many lines of code I have.",component:{timesUsed:1},linesOfCode:120,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-4",type:"reactComponent",data:{label:"Blue dashed connections denote a Route.",component:{timesUsed:1},linesOfCode:120,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-5",type:"reactComponent",data:{label:"This is how many times I have been used ->",component:{timesUsed:6},linesOfCode:40,outDegree:1,inDegree:0},position:{x:0,y:0}},{id:"node-6",type:"reactComponent",data:{label:"Black dashed connection denote a component rendered within an if-statement",component:{timesUsed:1},linesOfCode:240,outDegree:0,inDegree:1},position:{x:0,y:0}},{id:"node-7",type:"reactComponent",data:{label:"Hover me to highlight",component:{timesUsed:1},linesOfCode:10,outDegree:0,inDegree:0},position:{x:0,y:0}},{id:"edge-1",source:"node-1",target:"node-2"},{id:"edge-2",source:"node-3",target:"node-4",label:"/route_to_rendered_component",animated:!0,labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#001529",fillOpacity:.7},labelStyle:{fill:"#fff"},style:{stroke:"#00D8FF"}},{id:"edge-3",source:"node-5",target:"node-6",animated:!0}],He=function(e){var t=e.isHelpVisible,n=e.hideHelpOnStartUp,i=e.setIsHelpVisible,c=e.setHideHelpOnStartUp,a=Object(W.i)().setCenter,r=Object(o.useState)(!0),l=Object(s.a)(r,1)[0],d=Object(o.useContext)(m),u=d.highlightedComponent,h=d.setHighlightedComponent,b=function(e,t){var n=e?e.data.label:null;t?h({componentName:n,locked:t}):u.locked||h({componentName:n,locked:u.locked})};return Object(o.useEffect)((function(){return a(350,350,.7)})),Object(x.jsxs)(pe.a,{width:720,onClose:function(){return i(!1)},visible:t,bodyStyle:{paddingBottom:80},children:[Object(x.jsx)(we,{level:3,children:"Thank you for installing react-bratus"}),Object(x.jsx)(Se,{children:"Hopefully this tool can help you navigate your React.js code base. Below this paragraph you can find the elements that are displayed and what they represent."}),Object(x.jsx)(Se,{children:"You can always click the Help button in navigation pane on the right to see this window again."}),Object(x.jsxs)(Se,{children:["I hope that you have time to give me feedback. Any feature ideas, constructive criticism, or bugs are welcomed in the"," ",Object(x.jsx)(De,{href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=feedback&template=feedback.md&title=%5BFeedback%5D",children:"GitHub repository."})]}),Object(x.jsx)(xe.a,{checked:n,onChange:function(e){return c(e.target.checked)},children:"Don't show me this again"}),Object(x.jsx)(Oe.a,{}),Object(x.jsx)(we,{children:"Changelog"}),Object(x.jsxs)(Se,{ellipsis:!!l&&{rows:2,expandable:!0,symbol:"more"},children:["- ",Object(x.jsx)("b",{children:"2.0.3"})," ",Object(x.jsx)("br",{}),"- Added posibility to set options in `.bratusrc.json` file",Object(x.jsx)("br",{}),"- Handle multiple components - Highlight components feature ",Object(x.jsx)("br",{}),"- Lock highlighted component and move component including descendants at the same time ",Object(x.jsx)("br",{}),"- CLI command -c --compile has been changed to -p --parse ",Object(x.jsx)("br",{}),"-"," ",Object(x.jsx)("b",{children:"2.0.2"})," ",Object(x.jsx)("br",{}),"- First release"]}),Object(x.jsx)(Oe.a,{}),Object(x.jsx)(we,{level:3,children:"Legend"}),Object(x.jsx)(ke,{children:Object(x.jsx)(W.e,{elements:Ce(Ne),nodeTypes:{reactComponent:le},onNodeMouseEnter:function(e,t){return b(t,!1)},onNodeMouseLeave:function(){u.locked||h({componentName:null,locked:!1})},onElementClick:function(e,t){return b(t,!0)},onPaneClick:function(){return h({componentName:null,locked:!1})}})})]})},Be=n(322),Ie=n(858),Fe=n(852),Le=A.c.div(I||(I=Object(G.a)(["\n  padding-top: ","px;\n  padding-bottom: ","px;\n  padding-left: ","px;\n"])),24,ce,24),_e=A.c.h2(F||(F=Object(G.a)(["\n  color: white;\n  font-weight: 400;\n  text-align: right;\n  margin-bottom: ","px;\n  padding-right: ","px;\n"])),ce,ce),Ue=A.c.hr(L||(L=Object(G.a)(["\n  width: ","px;\n  color: blue;\n  margin: 0;\n  margin-left: auto;\n"])),280),Ee=function(e){var t=e.children;return Object(x.jsxs)(Le,{children:[Object(x.jsx)(_e,{children:t}),Object(x.jsx)(Ue,{})]})},Te=A.c.div(_||(_=Object(G.a)(["\n  display: flex;\n  flex-direction: column;\n  height: auto;\n"]))),Pe=function(e){var t=e.children,n=e.title;return Object(x.jsxs)(Te,{children:[Object(x.jsx)(Ee,{children:n}),t]})},Me=ge.a.Paragraph,Re=ge.a.Title,ze=Object(A.c)(Re)(U||(U=Object(G.a)(["\n  color: #fff !important;\n  text-align: center;\n"]))),Ge=Object(A.c)(Me)(E||(E=Object(G.a)(["\n  color: #fff;\n  line-height: ","px;\n  font-size: ","px;\n  text-align: right;\n  padding: 0 ","px;\n"])),24,14,ce),Ae=A.c.span(T||(T=Object(G.a)(["\n  color: ",";\n"])),(function(e){return e.theme.primary})),Je=A.c.div(P||(P=Object(G.a)(["\n  display: flex;\n  flex-direction: row-reverse;\n  flex-wrap: wrap;\n  padding: ","px;\n  margin-left: auto;\n  width: 100%;\n\n  > * {\n    &:not(:last-child) {\n      margin-left: ","px;\n      margin-bottom: ","px;\n    }\n  }\n"])),ce,ce,ce),Ve=be.a.Sider,qe=function(e){var t=e.info,n=Object(o.useState)(),i=Object(s.a)(n,2),c=i[0],a=i[1],r=Object(o.useState)([]),l=Object(s.a)(r,2),d=l[0],u=l[1],h=Object(o.useContext)(m),b=h.highlightedComponents,j=h.setHighlightedComponents,p=Object(W.h)((function(e){return e.nodes})),f=Object(W.i)().setCenter;Object(o.useEffect)((function(){v()}),[p]);var g=function(e){var t=e.split(":");return 1==t.length?null:(t.pop(),t.join(":"))},O=function(e){return 0==e.data.outDegree},v=function(){p.length>0&&u(p.map((function(e){return{id:e.id,pId:g(e.id),title:e.data.label,value:e.id,isLeaf:O(e)}})))};return Object(x.jsxs)(Ve,{width:300,style:{overflow:"auto",height:"100vh",position:"fixed",left:0},children:[Object(x.jsx)(ze,{level:1,children:"react-bratus"}),Object(x.jsxs)(Ie.a,{theme:"dark",mode:"inline",children:[Object(x.jsx)(Pe,{title:"Search",children:Object(x.jsx)(Fe.a,{showSearch:!0,style:{width:"100%",padding:"0 ".concat(ce,"px")},value:c,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:"Search components",onChange:function(e){a(e);var t=e.split(":"),n=t[t.length-1],o=b.findIndex((function(t){return t.id===e}));Object($.a)(b).splice(o,1),j([{id:e,componentName:n,locked:!0,search:!1}]),function(e){var t=p.findIndex((function(t){return t.id==e})),n=p[t],o=n.__rf.position.x+n.__rf.width/2,i=n.__rf.position.y+n.__rf.height/2;f(o,i,1)}(e)},treeDataSimpleMode:!0,treeDefaultExpandAll:!1,treeData:d})}),t&&Object(x.jsxs)(Pe,{title:"Info",children:[Object(x.jsxs)(Ge,{children:["your tree contains"," ",Object(x.jsxs)(Ae,{children:[t.uniqueComponents," "]}),"unique components"]}),Object(x.jsxs)(Ge,{children:["your components are on average reused",Object(x.jsxs)(Ae,{children:[" ",t.averageTimesUsed.toFixed(2)," "]}),"times"]}),Object(x.jsxs)(Ge,{children:["your average component consist of",Object(x.jsxs)(Ae,{children:[" ",t.averageLinesOfCode.toFixed(0)," "]}),"lines of code"]})]}),Object(x.jsx)(Pe,{title:"Actions",children:Object(x.jsxs)(Je,{children:[Object(x.jsx)(je.a,{onClick:function(){fetch("http://localhost:4444/compile",{method:"POST"}).then((function(){var e=Be.b.loading("Recompiling. Window will refresh soon..",0);setTimeout((function(){return e}),2e3),setTimeout((function(){location.reload()}),4e3)})).catch((function(e){return console.log("An error occurred ",e)}))},ghost:!0,children:"Recompile"}),Object(x.jsx)(je.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=feedback&template=feedback.md&title=%5BFeedback%5D",ghost:!0,children:"Give feedback"}),Object(x.jsx)(je.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=bug&template=bug_report.md&title=%5BBUG%5D+",ghost:!0,children:"Submit bug"}),Object(x.jsx)(je.a,{target:"_blank",href:"https://github.com/stephanboersma/react-bratus/issues/new?assignees=&labels=enhancement&template=feature_request.md&title=%5BFeature%5D",ghost:!0,children:"Suggest new feature"})]})}),Object(x.jsxs)(Pe,{title:"Controls",children:[Object(x.jsx)(Ge,{children:"hover components with your mouse to highlight"}),Object(x.jsx)(Ge,{children:"click a component to lock the highlight"})]})]})]})},$e=n(63),We=n(856),Ye=n(850),Ke=function(e){var t=e.nodeDetail;return Object(o.useEffect)((function(){return console.log(t)}),[]),t.visible?Object(x.jsx)(Z.a,{children:Object(x.jsxs)(ee.a,{children:[Object(x.jsx)("a",{href:"vscode:://file/".concat(t.node.data.path),children:t.node.data.path}),Object(x.jsx)(We.a,{language:"javascript",style:Ye.a,children:t.node.data.code})]})}):Object(x.jsx)($e.a,{spin:!0})},Qe=Object(A.c)(be.a)(M||(M=Object(G.a)(["\n  margin-left: ","px;\n  padding: 1rem;\n  height: 100vh;\n"])),300),Xe=Object(A.c)(je.a)(R||(R=Object(G.a)(["\n  position: absolute;\n  bottom: ","px;\n  left: ","px;\n"])),24,24),Ze=function(e){var t=e.children,n=e.info,i=e.nodeDetail,c=e.setNodeDetail,a=fe(!1,"react-bratus:hide-help"),r=Object(s.a)(a,2),l=r[0],d=r[1],u=Object(o.useState)(!l),h=Object(s.a)(u,2),b=h[0],j=h[1];return Object(x.jsxs)(be.a,{children:[Object(x.jsxs)(W.d,{children:[Object(x.jsx)(qe,{info:n}),Object(x.jsx)(Qe,{children:t}),Object(x.jsx)(pe.a,{width:600,visible:i.visible,closable:!0,onClose:function(){return c({visible:!1,node:null})},title:i.node?i.node.data.label:"",children:Object(x.jsx)(Ke,{nodeDetail:i})})]}),Object(x.jsx)(W.d,{children:Object(x.jsx)(He,{isHelpVisible:b,setIsHelpVisible:j,hideHelpOnStartUp:l,setHideHelpOnStartUp:d})}),Object(x.jsx)(Xe,{type:"primary",shape:"round",size:"large",icon:Object(x.jsx)(he.a,{}),onClick:function(){return j(!0)},children:"Open help"})]})},et=function(){var e=O().locale,t=Object(o.useState)(null),n=Object(s.a)(t,2),i=n[0],c=n[1],a=Object(o.useState)({visible:!1,node:null}),b=Object(s.a)(a,2),j=b[0],p=b[1],g=Object(o.useState)(null),m=Object(s.a)(g,2),y=m[0],C=m[1];return Object(o.useEffect)((function(){!function(e){f.apply(this,arguments)}(e),fetch("http://localhost:4444/parsedData").then((function(e){return e.json()})).then((function(e){C(e.info),c(Ce([].concat(e.nodes.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{data:Object(r.a)(Object(r.a)({},e.data),{},{onShowNodeDetail:function(e){return p({visible:!0,node:e})}})})})),e.edges.map((function(e){return Object(r.a)(Object(r.a)({},e),{},{labelBgPadding:[8,4],labelBgBorderRadius:4,labelBgStyle:{fill:"#001529",fillOpacity:.7},labelStyle:{fill:"#fff"},style:{stroke:e.label?"red":"#000"}})})))))})).catch(console.log)}),[e]),Object(x.jsx)(d.a,{i18n:l.a,children:Object(x.jsx)(z,{children:Object(x.jsx)(q,{children:Object(x.jsx)(v,{children:Object(x.jsx)(Ze,{info:y,nodeDetail:j,setNodeDetail:p,children:i?Object(x.jsx)(ue,{elements:i}):Object(x.jsx)(u.a,{spinning:!0,children:Object(x.jsx)(h.a,{message:"Nothing to show",description:"Could not find any components to display",type:"warning"})})})})})})})},tt=function(e){e&&e instanceof Function&&n.e(5).then(n.bind(null,866)).then((function(t){var n=t.getCLS,o=t.getFID,i=t.getFCP,c=t.getLCP,a=t.getTTFB;n(e),o(e),i(e),c(e),a(e)}))};a.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(et,{})}),document.getElementById("root")),tt()}},[[842,1,2]]]);
//# sourceMappingURL=main.5613dd2d.chunk.js.map